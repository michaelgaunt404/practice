x = 19
y = 39999
z = x*y
knitr::opts_chunk$set(echo = TRUE)
system.time()
Sys.Date()
Sys.time()
Sys.time() %>%
str()
str(Sys.time())
as.character(Sys.time())
lubridate::year(syst.Date())
lubridate::year(sys.Date())
lubridate::year(Sys.time())
lubridate::min(Sys.time())
lubridate::minute(Sys.time())
?Sys.time()
format(Sys.time(), "%a %b %d %X %Y")
format(Sys.time(), "%d")
format(Sys.time(), '%d/%b/%Y:%H:%M:%S')
format(Sys.time(), '%Y%m%d:%H:%M:%S')
format(Sys.time(), '%Y%m%d_%H%M%S')
str(format(Sys.time(), '%Y%m%d_%H%M%S'))
Sys.Date()
lubridate::year(sys.Date())
lubridate::minute(Sys.time())
format(Sys.time(), '%d/%b/%Y:%H:%M:%S')
format(Sys.time(), '%Y%m%d_%H%M%S')
install.packages("ezknitr")
library(ezknitr)
ezknit(file = "r/yolo.rmd", out_dir = "output")
ezknit(file = "r/yolo.rmd",
out_dir = "output",
fig_dir = "myfigs")
ezknit(file = "r/yolo.rmd",
out_dir = "output",
fig_dir = "myfigs")
?ezknit()
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "r/yolo.rmd",
out_dir = "output",
out_suffix = suffix,
fig_dir = "myfigs")
library(ezknitr)
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "r/yolo.rmd",
out_dir = "output",
out_suffix = suffix,
fig_dir = "myfigs")
ezknit(file = "r/yolo.rmd",
out_dir = "output",
out_suffix = suffix,
fig_dir = "myfigs")
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "r/yolo.rmd",
out_dir = "output",
out_suffix = suffix,
fig_dir = "myfigs")
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "r/yolo.rmd",
out_dir = "output",
out_suffix = suffix,
fig_dir = "myfigs")
library(data.table)
library(ggplot2)
library(data.table)
library(ggplot2)
bikeshare.data = fread("./Data/austin_bikeshare_trips.csv",
header = TRUE, stringsAsFactors = FALSE)
bikeshare.data = fread("./data/austin_bikeshare_trips.csv",
header = TRUE, stringsAsFactors = FALSE)
bikeshare.data = fread("../data/austin_bikeshare_trips.csv",
header = TRUE, stringsAsFactors = FALSE)
bikeshare.data
library(tidyverse)
bikeshare.data %>%
str()
bikeshare.data %>%
.[,.(.N), by = .(month)]
bikeshare.data %>%
.[,.(.N), by = .(month)] %>%
ggplot() +
geom_line(aes(month, N))
bikeshare.data %>%
.[,.(.N), by = .(month)] %>%
na.omit() %>%
ggplot() +
geom_line(aes(month, N))
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "yolo.rmd",
out_suffix = suffix,
out_dir = "../output",
fig_dir = "../myfigs")
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "yolo.rmd",
out_suffix = suffix,
out_dir = "../output",
fig_dir = "../myfigs")
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
ezknit(file = "r/yolo.rmd",
out_suffix = suffix,
out_dir = "output",
fig_dir = "myfigs")
install.packages("gmailr")
library(gmailr)
install.packages("gmailR")
library(gmailR)
install.packages("gmailR")
library(gmailR)
library(gmailr)
getwd()
use_secret_file("domorewithr.json")
use_secret_file(".docs/secret/domorewithr.json")
use_secret_file("./docs/secret/domorewithr.json")
my_email_message = mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
body("hello friwend")
my_email_message = gm_mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
body("hello friwend")
my_email_message = gm_mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_body("hello friwend")
my_email_message = gm_mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d')))
my_email_message
send_message(my_email_message)
?gm_auth_configure()
use_secret_file("./docs/secret/domorewithr.json")
library(jsonlite)
read_json("./docs/secret/domorewithr.json")
gm_auth_configure("./docs/secret/domorewithr.json")
gm_auth_configure(path = "./docs/secret/domorewithr.json")
use_secret_file("./docs/secret/domorewithr.json")
my_email_message = gm_mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d')))
send_message(my_email_message)
my_email_message = gm_mime() %>%
to("mike.gaunt.404@gmail.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d')))
send_message(my_email_message)
my_email_message = gm_mime() %>%
to("merkaberk91@yahoo.com") %>%
from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d')))
send_message(my_email_message)
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_body("Hello, this is an automated response from your friendly person.")
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_body("Hello, this is an automated response from your friendly person.")
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
body("Hello, this is an automated response from your friendly person.")
?gm_mime()
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
send_message(my_email_message)
my_email_message = gm_mime() %>%
gm_to("merkaberk91@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
send_message(my_email_message)
my_email_message = gm_mime() %>%
gm_to("merkaberk91@yahoo.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
send_message(my_email_message)
my_email_message = gm_mime() %>%
gm_to("merkaberk91@yahoo.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste0("hello",format(Sys.time(), '%Y%m%d'))) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
send_message(my_email_message)
paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")
my_email_message = gm_mime() %>%
gm_to("rebecca.esquenazi@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body("Hello, this is an automated response from your friendly person.")
send_message(my_email_message)
email_body = "Hello, this is an automated response from your friendly person."
my_email_message = gm_mime() %>%
gm_to("rebecca.esquenazi@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_part(email_body) %>%
gm_attach_file("./output/yolo-20200219_175537.html")
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_part(email_body) %>%
gm_attach_file("./output/yolo-20200219_175537.html")
send_message(my_email_message)
file.info(list.files("/path/to/your/directory", full.names = T))
getwd
getwd()
paste0(getwd(), "/output")
paste0(getwd(), "/output") %>%
list.files(full.names = T)
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info()
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>% str()
library(tidyverse)
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
select(mtime) %>%
order_by(mtime)
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
top_n(1, mtime)
?top_n()
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
top_n(2, mtime)
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info()
paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
top_n(2, mtime)
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info()
file_directory %>% hour()
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
filter(size > 1)
file_directory
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info()
file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
unique()
file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
max()
file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
top_n(1)
filter_on_index = file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
top_n(1)
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info()
filter_on_index = file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
top_n(1)
filter_on_time = file_directory  %>%
filter(size > 1) %>%
select(mtime) %>%
top_n(1)
merge(file_directory, filter_on_time, on = "mtime")
file_directory[, mtime == filter_on_time]
file_directory[, file_directory$mtime == filter_on_time]
file_directory[file_directory$mtime == filter_on_time,]
file_directory$mtime %>% max()
file_directory[file_directory$mtime == max(file_directory$mtime),]
file_directory[file_directory$mtime >= max(file_directory$mtime),]
max(file_directory$mtime)
max(file_directory$mtime)-1
file_directory[file_directory$mtime >= max(file_directory$mtime)-1,]
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
mutate(name = rownames(.))
file_directory
file_directory[file_directory$mtime >= max(file_directory$mtime)-1,]
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, name]
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"]
file_directory[file_directory$mtime >= max(file_directory$mtime)-1,] %>%
map(name, paste0, "./output/")
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"] %>%
map(name, paste0, "./output/")
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"] %>%
map(paste0, "./output/")
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"] %>%
map(paste0, "./output/", .)
file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"]
file_attach = file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"]
file_attach[1]
email_body = "Hello, this is an automated response from your friendly person."
file_directory = paste0(getwd(), "/output") %>%
list.files(full.names = T) %>%
file.info() %>%
mutate(name = rownames(.))
file_attach = file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"]
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_part(email_body) %>%
gm_attach_file(file_attach[1])
my_email_message
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_part(email_body) %>%
gm_attach_file(file_attach)
file_attach
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_file(file_attach[2])
file_attach %>%  str()
file_attach = file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"] %>%
list()
file_attach %>%  str()
file_attach[2]
file_attach = file_directory[file_directory$mtime >= max(file_directory$mtime)-1, "name"]
?gm_attach_file()
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_file(c(file_attach[2], file_attach[1])
?gm_attach_file()
file_attach[2] %>%  str()
send_message(my_email_message)
#sets suffix for file name
#generally best if this is 'system date/time'
suffix = format(Sys.time(), '%Y%m%d_%H%M%S')
#section calls script to run, provides filename suffix, and location
#for terminal usage
gmailr::gmai
ezknit(file = "yolo.rmd",
out_suffix = suffix,
out_dir = "../output",
fig_dir = "../myfigs")
#for internal script usage
#needs to be different than terminal version
# ezknit(file = "r/yolo.rmd",
#        out_suffix = suffix,
#        out_dir = "output",
#        fig_dir = "myfigs")
print("R script successfully ran from terminal.")
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_file(c(file_attach[2], file_attach[1]))
my_email_message = gm_mime() %>%
gm_to("mike.gaunt.404@gmail.com") %>%
gm_from("mike.gaunt.404@gmail.com") %>%
gm_subject(paste("hello",format(Sys.time(), '%Y%m%d'), sep = "_")) %>%
gm_text_body(email_body) %>%
gm_attach_file(file_attach[2]) %>%
gm_attach_file(file_attach[1])
my_email_message
send_message(my_email_message)
